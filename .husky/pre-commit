
pnpm install ||
(
  echo "\n âŒ - pnpm Failed. - Failure in updating dependencies. - âŒ\n View the errors above in order to fix them!\n"
)

(
  echo "\n âœ… - Dependencies successfully updated, now linting code..\n"
  true;
) &&

pnpm lint ||
(
  echo "\n âŒ - pnpm lint Failed. - âŒ\n View the errors above in order to fix them!\n"
  false;
)

(
  echo "\n âœ… - Code successfully linted, now applying default formatting to the code.. \n"
  true;
) &&

pnpm format:staged ||
(
  echo "\n âŒ - pnpm format:staged Failed. - âŒ\n View the errors above in order to fix them!\n"
  false;
)

(
  echo "\n âœ… - Code successfully formatted, now adding formatted files to git.. \n"
  true;
) &&

modified_files=$(git status --porcelain | awk '$1 == "M" || $1 == "MM" {print $2}')

git add $modified_files ||
(
  echo "\n âŒ - git add Failed. - âŒ\n View the errors above in order to fix them!\n"
  false;
)

(
  echo "\n âœ… - Formatted files successfully added to git, now compiling TypeScript..\n"
  true;
) &&

npx tsc ||
(
  echo "\n âŒ - npx tsc Failed. - âŒ\n View the errors above in order to fix them!\n"
  false;
)

(
  echo "\n âœ… - Typescript successfully compiled. I am now committing this! - ğŸš€ğŸ”¥\n"
  true;
) 
